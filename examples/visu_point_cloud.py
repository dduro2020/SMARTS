import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D

# Supongamos que 'point_cloud' es tu array de numpy

point_cloud_1 = np.array([[  1.6       , -15.4899997 ,   1.00349066],
       [  1.18123061, -15.48561502,   1.00349066],
       [  0.76264484, -15.47246292,   1.00349066],
       [  0.34442622, -15.45054915,   1.00349066],
       [ -0.07324187, -15.41988333,   1.00349066],
       [ -0.4901763 , -15.3804789 ,   1.00349066],
       [ -0.90619425, -15.33235314,   1.00349066],
       [ -1.32111332, -15.27552716,   1.00349066],
       [ -1.73475157, -15.21002586,   1.00349066],
       [ -2.14692764, -15.13587797,   1.00349066],
       [ -2.55746081, -15.05311599,   1.00349066],
       [ -2.96617107, -14.96177623,   1.00349066],
       [ -3.37287921, -14.86189872,   1.00349066],
       [ -3.7774069 , -14.75352727,   1.00349066],
       [ -4.17957677, -14.63670938,   1.00349066],
       [ -4.57921249, -14.51149628,   1.00349066],
       [ -4.97613882, -14.37794287,   1.00349066],
       [ -5.37018173, -14.23610772,   1.00349066],
       [ -5.76116844, -14.086053  ,   1.00349066],
       [ -6.14892751, -13.92784451,   1.00349066],
       [ -6.53328894, -13.76155163,   1.00349066],
       [ -6.91408418, -13.58724726,   1.00349066],
       [ -7.29114626, -13.40500784,   1.00349066],
       [ -7.66430987, -13.21491327,   1.00349066],
       [ -8.03341138, -13.0170469 ,   1.00349066],
       [ -8.39828896, -12.81149548,   1.00349066],
       [ -8.7587826 , -12.59834916,   1.00349066],
       [ -9.11473426, -12.37770137,   1.00349066],
       [ -9.46598785, -12.14964888,   1.00349066],
       [ -9.81238936, -11.91429167,   1.00349066],
       [-10.15378692, -11.67173294,   1.00349066],
       [-10.49003081, -11.42207905,   1.00349066],
       [-10.82097363, -11.16543945,   1.00349066],
       [-11.14647024, -10.90192668,   1.00349066],
       [-11.46637795, -10.63165629,   1.00349066],
       [-11.78055647, -10.35474677,   1.00349066],
       [-12.08886805, -10.07131954,   1.00349066],
       [-12.3911775 ,  -9.78149887,   1.00349066],
       [-12.68735228,  -9.48541184,   1.00349066],
       [-12.97726252,  -9.18318828,   1.00349066],
       [-13.2607811 ,  -8.8749607 ,   1.00349066],
       [-13.53778371,  -8.56086425,   1.00349066],
       [-13.80814889,  -8.24103665,   1.00349066],
       [-14.0717581 ,  -7.91561813,   1.00349066],
       [-14.32849575,  -7.58475139,   1.00349066],
       [-14.57824927,  -7.24858148,   1.00349066],
       [-14.82090915,  -6.90725582,   1.00349066],
       [-15.056369  ,  -6.56092406,   1.00349066],
       [-15.28452557,  -6.20973807,   1.00349066],
       [-15.50527882,  -5.85385181,   1.00349066],
       [-15.71853196,  -5.49342134,   1.00349066],
       [-15.92419149,  -5.12860469,   1.00349066],
       [-16.12216723,  -4.75956183,   1.00349066],
       [-16.31237237,  -4.38645457,   1.00349066],
       [-16.49472352,  -4.0094465 ,   1.00349066],
       [-16.66914071,  -3.62870293,   1.00349066],
       [-16.83554749,  -3.2443908 ,   1.00349066],
       [-16.99387087,  -2.85667862,   1.00349066],
       [-17.14404144,  -2.4657364 ,   1.00349066],
       [-17.28599336,  -2.07173554,   1.00349066],
       [-17.41966438,  -1.6748488 ,   1.00349066],
       [-17.5449959 ,  -1.2752502 ,   1.00349066],
       [-17.66193295,  -0.87311496,   1.00349066],
       [-17.77042428,  -0.4686194 ,   1.00349066],
       [-17.8704223 ,  -0.06194088,   1.00349066],
       [-17.96188317,   0.34674229,   1.00349066],
       [-18.04476679,   0.75725092,   1.00349066],
       [-18.11903681,   1.169405  ,   1.00349066],
       [-18.18466068,   1.58302383,   1.00349066],
       [-18.24160962,   1.99792604,   1.00349066],
       [-18.28985865,   2.41392971,   1.00349066],
       [-18.32938663,   2.83085245,   1.00349066],
       [-18.36017621,   3.24851143,   1.00349066],
       [-18.38221391,   3.66672354,   1.00349066],
       [-18.39549005,   4.08530539,   1.00349066],
       [-18.39999882,   4.50407346,   1.00349066],
       [-18.39573823,   4.92284413,   1.00349066],
       [-18.38271017,   5.34143378,   1.00349066],
       [-18.36092033,   5.75965888,   1.00349066],
       [-18.33037828,   6.17733604,   1.00349066],
       [-18.2910974 ,   6.59428212,   1.00349066],
       [-18.24309492,   7.01031432,   1.00349066],
       [-18.18639189,   7.42525021,   1.00349066],
       [-18.12101317,   7.83890785,   1.00349066],
       [-18.04698742,   8.25110588,   1.00349066],
       [-17.9643471 ,   8.66166355,   1.00349066],
       [-17.87312845,   9.07040086,   1.00349066],
       [-17.77337147,   9.47713858,   1.00349066],
       [-17.66511989,   9.88169836,   1.00349066],
       [-17.54842118,  10.28390284,   1.00349066],
       [-17.42332651,  10.68357564,   1.00349066],
       [-17.28989073,  11.08054153,   1.00349066],
       [-17.14817234,  11.47462645,   1.00349066],
       [-16.99823349,  11.86565761,   1.00349066],
       [-16.84013992,  12.25346355,   1.00349066],
       [-16.67396094,  12.63787423,   1.00349066],
       [-16.49976942,  13.0187211 ,   1.00349066],
       [-16.31764174,  13.39583718,   1.00349066],
       [-16.12765775,  13.7690571 ,   1.00349066],
       [-15.92990077,  14.13821723,   1.00349066],
       [-15.72445748,  14.50315569,   1.00349066],
       [-15.51141799,  14.86371248,   1.00349066],
       [-15.29087569,  15.21972951,   1.00349066],
       [-15.0629273 ,  15.57105066,   1.00349066],
       [-14.82767274,  15.91752191,   1.00349066],
       [-14.58521519,  16.25899132,   1.00349066],
       [-14.33566095,  16.59530918,   1.00349066],
       [-14.07911943,  16.92632803,   1.00349066],
       [-13.81570313,  17.25190272,   1.00349066],
       [-13.54552754,  17.57189049,   1.00349066],
       [-13.26871113,  17.88615106,   1.00349066],
       [-12.98537527,  18.19454661,   1.00349066],
       [-12.6956442 ,  18.49694193,   1.00349066],
       [-12.39964495,  18.79320444,   1.00349066],
       [-12.09750731,  19.08320422,   1.00349066],
       [-11.78936376,  19.36681412,   1.00349066],
       [-11.47534941,  19.64390979,   1.00349066],
       [-11.15560194,  19.91436974,   1.00349066],
       [-10.83026155,  20.17807536,   1.00349066],
       [-10.4994709 ,  20.43491105,   1.00349066],
       [-10.16337501,  20.68476417,   1.00349066],
       [ -9.82212128,  20.92752519,   1.00349066],
       [ -9.47585931,  21.16308766,   1.00349066],
       [ -9.12474093,  21.39134828,   1.00349066],
       [ -8.76892011,  21.61220698,   1.00349066],
       [ -8.40855285,  21.82556692,   1.00349066],
       [ -8.04379716,  22.03133454,   1.00349066],
       [ -7.67481298,  22.22941963,   1.00349066],
       [ -7.3017621 ,  22.41973532,   1.00349066],
       [ -6.92480808,  22.60219818,   1.00349066],
       [ -6.54411621,  22.7767282 ,   1.00349066],
       [ -6.15985341,  22.94324884,   1.00349066],
       [ -5.77218816,  23.10168711,   1.00349066],
       [ -5.38129045,  23.25197352,   1.00349066],
       [ -4.98733167,  23.39404219,   1.00349066],
       [ -4.59048456,  23.52783081,   1.00349066],
       [ -4.19092312,  23.65328073,   1.00349066],
       [ -3.78882255,  23.77033695,   1.00349066],
       [ -3.38435916,  23.87894813,   1.00349066],
       [ -2.97771028,  23.97906665,   1.00349066],
       [ -2.56905423,  24.07064862,   1.00349066],
       [ -2.15857019,  24.15365389,   1.00349066],
       [ -1.74643813,  24.22804604,   1.00349066],
       [ -1.33283877,  24.29379247,   1.00349066],
       [ -0.91795345,  24.35086435,   1.00349066],
       [ -0.50196409,  24.39923666,   1.00349066],
       [ -0.08505309,  24.43888818,   1.00349066],
       [  0.33259675,  24.46980152,   1.00349066],
       [  0.75080231,  24.49196314,   1.00349066],
       [  1.16938021,  24.50536332,   1.00349066],
       [  1.58814693,  24.50999618,   1.00349066],
       [  2.00691884,  24.50585969,   1.00349066],
       [  2.42551233,  24.49295567,   1.00349066],
       [  2.84374387,  24.47128976,   1.00349066],
       [  3.26143006,  24.44087148,   1.00349066],
       [  3.67838777,  24.40171416,   1.00349066],
       [  4.09443417,  24.35383496,   1.00349066],
       [  4.50938684,  24.29725489,   1.00349066],
       [  4.92306384,  24.23199875,   1.00349066],
       [  5.33528379,  24.15809515,   1.00349066],
       [  5.74586593,  24.07557649,   1.00349066],
       [  6.15463025,  23.98447897,   1.00349066],
       [  6.56139751,  23.88484252,   1.00349066],
       [  6.96598936,  23.77671083,   1.00349066],
       [  7.36822839,  23.66013131,   1.00349066],
       [  7.76793825,  23.53515507,   1.00349066],
       [  8.16494366,  23.40183693,   1.00349066],
       [  8.55907056,  23.26023533,   1.00349066],
       [  8.95014613,  23.11041235,   1.00349066],
       [  9.3379989 ,  22.9524337 ,   1.00349066],
       [  9.72245881,  22.78636864,   1.00349066],
       [ 10.10335728,  22.61228999,   1.00349066],
       [ 10.48052731,  22.43027406,   1.00349066],
       [ 10.85380351,  22.24040068,   1.00349066],
       [ 11.22302223,  22.04275309,   1.00349066],
       [ 11.58802155,  21.83741796,   1.00349066],
       [ 11.94864146,  21.62448532,   1.00349066],
       [ 12.30472382,  21.40404853,   1.00349066],
       [ 12.65611251,  21.17620425,   1.00349066],
       [ 13.00265345,  20.94105238,   1.00349066],
       [ 13.34419469,  20.69869602,   1.00349066],
       [ 13.68058649,  20.44924145,   1.00349066],
       [ 14.01168134,  20.19279803,   1.00349066],
       [ 14.33733407,  19.92947822,   1.00349066],
       [ 14.6574019 ,  19.65939746,   1.00349066],
       [ 14.97174447,  19.38267419,   1.00349066],
       [ 15.28022397,  19.09942973,   1.00349066],
       [ 15.58270514,  18.80978828,   1.00349066],
       [ 15.87905534,  18.51387683,   1.00349066],
       [ 16.16914464,  18.21182514,   1.00349066],
       [ 16.45284584,  17.90376565,   1.00349066],
       [ 16.73003455,  17.58983342,   1.00349066],
       [ 17.00058923,  17.27016611,   1.00349066],
       [ 17.26439126,  16.94490387,   1.00349066],
       [ 17.52132495,  16.61418934,   1.00349066],
       [ 17.77127766,  16.27816751,   1.00349066],
       [ 18.01413979,  15.93698573,   1.00349066],
       [ 18.24980485,  15.59079358,   1.00349066],
       [ 18.47816951,  15.23974286,   1.00349066],
       [ 18.69913364,  14.88398749,   1.00349066],
       [ 18.91260036,  14.52368347,   1.00349066],
       [ 19.11847606,  14.15898878,   1.00349066],
       [ 19.31667048,  13.79006331,   1.00349066],
       [ 19.50709671,  13.41706884,   1.00349066],
       [ 19.68967126,  13.04016891,   1.00349066],
       [ 19.86431407,  12.65952877,   1.00349066],
       [ 20.03094858,  12.27531533,   1.00349066],
       [ 20.18950171,  11.88769705,   1.00349066],
       [ 20.33990395,  11.49684389,   1.00349066],
       [ 20.48208935,  11.10292723,   1.00349066],
       [ 20.61599557,  10.70611978,   1.00349066],
       [ 20.74156389,  10.30659554,   1.00349066],
       [ 20.85873925,   9.90452967,   1.00349066],
       [ 20.96747028,   9.50009848,   1.00349066],
       [ 21.0677093 ,   9.09347929,   1.00349066],
       [ 21.15941236,   8.68485039,   1.00349066],
       [ 21.24253926,   8.27439096,   1.00349066],
       [ 21.31705354,   7.86228097,   1.00349066],
       [ 21.38292252,   7.44870111,   1.00349066],
       [ 21.44011734,   7.03383272,   1.00349066],
       [ 21.48861291,   6.61785771,   1.00349066],
       [ 21.52838797,   6.20095848,   1.00349066],
       [ 21.55942508,   5.78331782,   1.00349066],
       [ 21.58171063,   5.36511884,   1.00349066],
       [ 21.59523484,   4.94654493,   1.00349066],
       [ 21.59999179,   4.52777961,   1.00349066],
       [ 21.5959794 ,   4.10900648,   1.00349066],
       [ 21.58319941,   3.69040919,   1.00349066],
       [ 21.56165744,   3.27217125,   1.00349066],
       [ 21.53136293,   2.85447607,   1.00349066],
       [ 21.49232917,   2.43750677,   1.00349066],
       [ 21.44457326,   2.0214462 ,   1.00349066],
       [ 21.38811615,   1.60647678,   1.00349066],
       [ 21.32298259,   1.19278046,   1.00349066],
       [ 21.24920115,   0.78053863,   1.00349066],
       [ 21.16680416,   0.36993205,   1.00349066],
       [ 21.07582777,  -0.03885924,   1.00349066],
       [ 20.97631186,  -0.44565601,   1.00349066],
       [ 20.86830007,  -0.85027988,   1.00349066],
       [ 20.75183975,  -1.25255344,   1.00349066],
       [ 20.62698196,  -1.65230031,   1.00349066],
       [ 20.49378147,  -2.04934521,   1.00349066],
       [ 20.35229666,  -2.44351405,   1.00349066],
       [ 20.20258958,  -2.83463401,   1.00349066],
       [ 20.04472587,  -3.22253357,   1.00349066],
       [ 19.87877474,  -3.60704267,   1.00349066],
       [ 19.70480896,  -3.98799272,   1.00349066],
       [ 19.52290482,  -4.36521666,   1.00349066],
       [ 19.33314205,  -4.73854911,   1.00349066],
       [ 19.13560388,  -5.10782638,   1.00349066],
       [ 18.93037692,  -5.47288654,   1.00349066],
       [ 18.71755115,  -5.83356952,   1.00349066],
       [ 18.49721989,  -6.18971719,   1.00349066],
       [ 18.26947974,  -6.54117338,   1.00349066],
       [ 18.03443057,  -6.88778398,   1.00349066],
       [ 17.79217543,  -7.22939703,   1.00349066],
       [ 17.54282055,  -7.56586273,   1.00349066],
       [ 17.28647526,  -7.89703356,   1.00349066],
       [ 17.02325196,  -8.22276431,   1.00349066],
       [ 16.75326606,  -8.54291215,   1.00349066],
       [ 16.47663594,  -8.85733671,   1.00349066],
       [ 16.19348291,  -9.16590013,   1.00349066],
       [ 15.9039311 ,  -9.46846711,   1.00349066],
       [ 15.60810749,  -9.76490499,   1.00349066],
       [ 15.30614177, -10.05508378,   1.00349066],
       [ 14.99816635, -10.33887626,   1.00349066],
       [ 14.68431628, -10.61615798,   1.00349066],
       [ 14.36472915, -10.88680738,   1.00349066],
       [ 14.03954511, -11.15070577,   1.00349066],
       [ 13.70890673, -11.40773746,   1.00349066],
       [ 13.37295898, -11.65778973,   1.00349066],
       [ 13.03184917, -11.90075295,   1.00349066],
       [ 12.68572687, -12.13652058,   1.00349066],
       [ 12.33474384, -12.36498926,   1.00349066],
       [ 11.97905397, -12.5860588 ,   1.00349066],
       [ 11.61881322, -12.79963227,   1.00349066],
       [ 11.25417955, -13.00561604,   1.00349066],
       [ 10.88531283, -13.20391977,   1.00349066],
       [ 10.5123748 , -13.39445652,   1.00349066],
       [ 10.13552899, -13.57714275,   1.00349066],
       [  9.75494062, -13.75189835,   1.00349066],
       [  9.37077657, -13.9186467 ,   1.00349066],
       [  8.9832053 , -14.07731469,   1.00349066],
       [  8.59239672, -14.22783274,   1.00349066],
       [  8.19852221, -14.37013486,   1.00349066],
       [  7.80175446, -14.50415866,   1.00349066],
       [  7.40226744, -14.62984536,   1.00349066],
       [  7.00023631, -14.74713986,   1.00349066],
       [  6.59583736, -14.85599073,   1.00349066],
       [  6.18924789, -14.95635024,   1.00349066],
       [  5.78064619, -15.04817438,   1.00349066],
       [  5.37021141, -15.13142291,   1.00349066],
       [  4.95812351, -15.2060593 ,   1.00349066],
       [  4.54456319, -15.27205084,   1.00349066],
       [  4.12971177, -15.32936859,   1.00349066],
       [  3.71375115, -15.37798743,   1.00349066],
       [  3.29686372, -15.41788602,   1.00349066],
       [  2.87923227, -15.44904689,   1.00349066],
       [  2.46103992, -15.47145636,   1.00349066],
       [  2.04247003, -15.4851046 ,   1.00349066]])

# point_cloud_2 = np.array()

# point_cloud_3 = np.array()

# filtered_points = point_cloud_1[
#     (np.sqrt(point_cloud_1[:, 0]**2 + point_cloud_1[:, 1]**2) <= 30) &  # Radio en XY <= 30 m
#     (point_cloud_1[:, 2] >= 1) & (point_cloud_1[:, 2] <= 1.5)  &         # Z entre 1 y 1.5 m
#     ~((point_cloud_1[:, 0] == 0) & (point_cloud_1[:, 1] == 0) & (point_cloud_1[:, 2] == 0))  # Elimina puntos en (0, 0, 0)
# ]


#[ (point_cloud_1[:, 2] < 1) & (point_cloud_1[:, 2] >= 0.0)]
np.set_printoptions(suppress=True, precision=10)

def print_point_clouds(point_cloud):
    for i, vector in enumerate(point_cloud):
        # Formato del vector
        formatted_vector = f"[{vector[0]}, {vector[1]}, 0]"
        # Imprimir el vector con la coma y el salto de línea
        print(formatted_vector, end=',\n' if i < len(point_cloud) - 1 else '\n')

# print("Point Cloud 1:")
# print_point_clouds(point_cloud_1)
# print("-------------------------")
# print("Point Cloud 2:")
# print_point_clouds(point_cloud_3)

# 3. Visualizar la nube de puntos
x = point_cloud_1[:, 0]
y = point_cloud_1[:, 1]
z = point_cloud_1[:, 2]

# x2 = point_cloud_2[:, 0]
# y2 = point_cloud_2[:, 1]
# z2 = point_cloud_2[:, 2]

# x3 = point_cloud_3[:, 0]
# y3 = point_cloud_3[:, 1]
# z3 = point_cloud_3[:, 2]
# Crear una figura y un eje 3D
fig = plt.figure(figsize=(10, 7))
ax = fig.add_subplot(111, projection='3d')

# Graficar los puntos
ax.scatter(x, y, z, c='b', marker='o', s=10)
# ax.scatter(x2, y2, z2, c='r', marker='o', s=10)
# ax.scatter(x3, y3, z3, c='g', marker='o', s=10)
# Etiquetas y título
ax.set_xlabel('X')
ax.set_ylabel('Y')
ax.set_zlabel('Z')
ax.set_title('Nube de Puntos Lidar')

# Mostrar el gráfico
plt.show()

